# yaml-language-server: $schema=https://json.schemastore.org/github-workflow.json

name: Greetings

on:
  pull_request_target:
    types:
      - opened
  issues:
    types:
      - opened

permissions:
  issues: write
  pull-requests: write

jobs:
  greeting:
    name: Greet First-Time Contributors
    runs-on: ubuntu-latest

    steps:
      - name: Harden the runner (Audit all outbound calls)
        uses: step-security/harden-runner@e3f713f2d8f53843e71c69a996d56f51aa9adfb9 # v2.14.1
        with:
          egress-policy: audit

      - uses: actions/first-interaction@1c4688942c71f71d4f5502a26ea67c331730fa4d # v3.1.0
        with:
          repo_token: ${{ secrets.GITHUB_TOKEN }}
          issue_message: |
            # Welcome to MermaidPad!

            Thanks for taking the time to file an issue - I really appreciate first-time contributions to improve MermaidPad!
            To help me triage and fix this faster, please include:
            - A short summary of the problem or suggestion.
            - Steps to reproduce:
              - exact steps
              - sample diagram text
              - screenshots
              - and anything else you think would be helpful
            - MermaidPad version
            - Your OS: e.g., Windows 11, macOS 14, Ubuntu 22.04, etc.
            - Your CPU Architecture: e.g., x86, x64, ARM, ARM64
            - Screenshots or error output, if available.

            Before you wait for a reply, you may also find helpful details in:
            - [CONTRIBUTING.md](https://github.com/udlose/MermaidPad/blob/main/CONTRIBUTING.md) and
            - [README.md](https://github.com/udlose/MermaidPad/blob/main/README.md)

            A maintainer will review this soon and may ask for additional information. Thank you - your contribution helps make MermaidPad better!

          pr_message: |
            # Thanks for your first Pull Request!

            I really appreciate you contributing to MermaidPad! To help the review proceed smoothly, please describe:
            - What this PR changes and why (link an issue if one exists).
            - How you tested the change (manual steps or automated tests).
            - Whether any docs or screenshots were updated.
            
            > [!Important]
            > Please make sure that any testing included testing of the published app, not just local dev builds.
            >
            > You can find instructions for building and testing the published app in [Building & Publishing](https://github.com/udlose/MermaidPad/blob/main/README.md#building--publishing).

            CI checks will run automatically. If you can, please ensure:
            - The change is covered by tests or manual verification.
            - Documentation or README updates are included for user-facing changes.

            A maintainer will review your PR soon and may request small adjustments. Thanks again - your work helps the project grow!
